The `MessageInput` component displays an input where users can type their messages and upload files, and sends the message to the active channel. The component can be used to compose new messages or update existing ones. To send messages, the chat user needs to have the necessary [channel capability](https://getstream.io/chat/docs/javascript/channel_capabilities/?language=javascript).

## Configuration

The `MessageInput` component can use the [`Textarea`](./TextareaComponent.mdx) or the [`AutocompleteTextarea`](./AutocompleteTextareaComponent.mdx) component for displaying an HTML input for the users to type. You need to [provide your chosen component at module import](../concepts/opt-in-architecture.mdx).

## Customization

If you want to create your own message input, here is how to use it:

```html
<stream-channel-list></stream-channel-list>
<stream-channel>
  <stream-channel-header></stream-channel-header>
  <stream-message-list
    [messageInputTemplate]="customMessageInput"
  ></stream-message-list>
  <custom-message-input></custom-message-input>
  <stream-thread name="thread">
    <stream-message-list
      name="thread-message-list"
      mode="thread"
    ></stream-message-list>
    <custom-message-input name="thread-message-input"></custom-message-input>
  </stream-thread>
</stream-channel>

<ng-template
  #customMessageInput
  let-message="message"
  let-messageUpdateHandler="messageUpdateHandler"
>
  <custom-message-input
    [message]="message"
    (messageUpdate)="messageUpdateHandler($event)"
  ></custom-message-input>
</ng-template>
```

The default chat UI uses the message input in two different places: at the bottom of the channel to send new message, and in the message list to edit a message.

Your custom template can receive the same inputs (with the same name) as the default `MessageInput` component.

:::note
If you want to create your own message input, you can use the following building blocks:

### Send and update messages

You can use [`ChannelService`](../services/ChannelService.mdx) to send and update messages.

### File uploads

You can use the [`AttachmentService`](../services/AttachmentService.mdx) to manage file uploads.

If more than one message input component can exist on your chat UI you should provide the `AttachmentService` on the component level:

```typescript
@Component({
  selector: 'custom-message-input',
  templateUrl: './message-input.component.html',
  styles: [],
  providers: [AttachmentService],
})
```

### Textarea

You can use the [`Textarea`](./TextareaComponent.mdx) or the [`AutocompleteTextarea`](./AutocompleteTextareaComponent.mdx) component to display the input HTML element for the users to type.

:::

[//]: # "Start of generated content"
## Inputs and outputs 


### isFileUploadEnabled

• **isFileUploadEnabled**: `undefined` \| `boolean`

If file upload is enabled, the user can open a file selector from the input. Please note that the user also needs to have the necessary [channel capability](https://getstream.io/chat/docs/javascript/channel_capabilities/?language=javascript). If no value is provided, it is set from the [`MessageInputConfigService`](../services/MessageInputConfigService.mdx).

#### Defined in

[lib/message-input/message-input.component.ts:54](https://github.com/GetStream/stream-chat-angular/blob/c2ea384/projects/stream-chat-angular/src/lib/message-input/message-input.component.ts#L54)

___

### areMentionsEnabled

• **areMentionsEnabled**: `undefined` \| `boolean`

If true, users can mention other users in messages. You also [need to use the `AutocompleteTextarea`](../concepts/opt-in-architecture.mdx) for this feature to work. If no value is provided, it is set from the [`MessageInputConfigService`](../services/MessageInputConfigService.mdx).

#### Defined in

[lib/message-input/message-input.component.ts:58](https://github.com/GetStream/stream-chat-angular/blob/c2ea384/projects/stream-chat-angular/src/lib/message-input/message-input.component.ts#L58)

___

### mentionScope

• **mentionScope**: `undefined` \| ``"channel"`` \| ``"application"``

The scope for user mentions, either members of the current channel of members of the application. If no value is provided, it is set from the [`MessageInputConfigService`](../services/MessageInputConfigService.mdx).

#### Defined in

[lib/message-input/message-input.component.ts:62](https://github.com/GetStream/stream-chat-angular/blob/c2ea384/projects/stream-chat-angular/src/lib/message-input/message-input.component.ts#L62)

___

### mentionAutocompleteItemTemplate

• **mentionAutocompleteItemTemplate**: `undefined` \| `TemplateRef`<`MentionAutcompleteListItemContext`\>

You can provide your own template for the autocomplete list for user mentions. You also [need to use the `AutocompleteTextarea`](../concepts/opt-in-architecture.mdx) for this feature to work. If no value is provided, it is set from the [`MessageInputConfigService`](../services/MessageInputConfigService.mdx).

#### Defined in

[lib/message-input/message-input.component.ts:66](https://github.com/GetStream/stream-chat-angular/blob/c2ea384/projects/stream-chat-angular/src/lib/message-input/message-input.component.ts#L66)

___

### commandAutocompleteItemTemplate

• **commandAutocompleteItemTemplate**: `undefined` \| `TemplateRef`<`CommandAutocompleteListItemContext`\>

You can provide your own template for the autocomplete list for commands. You also [need to use the `AutocompleteTextarea`](../concepts/opt-in-architecture.mdx) for this feature to work. If no value is provided, it is set from the [`MessageInputConfigService`](../services/MessageInputConfigService.mdx).

#### Defined in

[lib/message-input/message-input.component.ts:72](https://github.com/GetStream/stream-chat-angular/blob/c2ea384/projects/stream-chat-angular/src/lib/message-input/message-input.component.ts#L72)

___

### emojiPickerTemplate

• **emojiPickerTemplate**: `undefined` \| `TemplateRef`<`void`\>

You can add an emoji picker by [providing your own emoji picker template](../code-examples/emoji-picker.mdx)

#### Defined in

[lib/message-input/message-input.component.ts:78](https://github.com/GetStream/stream-chat-angular/blob/c2ea384/projects/stream-chat-angular/src/lib/message-input/message-input.component.ts#L78)

___

### mode

• **mode**: ``"thread"`` \| ``"main"`` = `'main'`

Determines if the message is being dispalyed in a channel or in a [thread](https://getstream.io/chat/docs/javascript/threads/?language=javascript).

#### Defined in

[lib/message-input/message-input.component.ts:82](https://github.com/GetStream/stream-chat-angular/blob/c2ea384/projects/stream-chat-angular/src/lib/message-input/message-input.component.ts#L82)

___

### acceptedFileTypes

• **acceptedFileTypes**: `undefined` \| `string`[]

You can narrow the accepted file types by providing the [accepted types](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept). By default every file type is accepted.
If no value is provided, it is set from the [`MessageInputConfigService`](../services/MessageInputConfigService.mdx).

**`deprecated`** use [application settings](https://getstream.io/chat/docs/javascript/app_setting_overview/?language=javascript#file-uploads) instead

#### Defined in

[lib/message-input/message-input.component.ts:88](https://github.com/GetStream/stream-chat-angular/blob/c2ea384/projects/stream-chat-angular/src/lib/message-input/message-input.component.ts#L88)

___

### isMultipleFileUploadEnabled

• **isMultipleFileUploadEnabled**: `undefined` \| `boolean`

If true, users can select multiple files to upload. If no value is provided, it is set from the [`MessageInputConfigService`](../services/MessageInputConfigService.mdx).

#### Defined in

[lib/message-input/message-input.component.ts:92](https://github.com/GetStream/stream-chat-angular/blob/c2ea384/projects/stream-chat-angular/src/lib/message-input/message-input.component.ts#L92)

___

### message

• **message**: `undefined` \| `StreamMessage`<`DefaultAttachmentType`, `DefaultChannelType`, `LiteralStringForUnion`, `DefaultMessageType`, `UnknownType`, `DefaultUserType`<`DefaultUserTypeInternal`\>\>

The message to edit

#### Defined in

[lib/message-input/message-input.component.ts:96](https://github.com/GetStream/stream-chat-angular/blob/c2ea384/projects/stream-chat-angular/src/lib/message-input/message-input.component.ts#L96)

___

### messageUpdate

• `Readonly` **messageUpdate**: `EventEmitter`<`void`\>

Emits when a message was successfuly sent or updated

#### Defined in

[lib/message-input/message-input.component.ts:100](https://github.com/GetStream/stream-chat-angular/blob/c2ea384/projects/stream-chat-angular/src/lib/message-input/message-input.component.ts#L100)

[//]: # "End of generated content"
