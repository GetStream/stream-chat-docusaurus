---
id: channel
sidebar_position: 2
title: Channel service
---

The `ChannelService` provides data and interaction for the channel list and message list.

# Overview

## init

Queries the channels with the given filters, sorts and options. More info about [channel querying](https://getstream.io/chat/docs/javascript/query_channels/?language=javascript) can be found in the platform documentation.

## channels$

Emits the currently loaded and [watched](https://getstream.io/chat/docs/javascript/watch_channel/?language=javascript) channel list.

:::important
If you want to subscribe to channel events, you need to manually reenter Angular's change detection zone, our [Change detection guide](../concepts/change-detection.mdx) explains this in detail.
:::

Apart from pagination, the channel list is also updated on the following events:

| Event type                          | Default behavior                                                   | Custom handler to override                    |
| ----------------------------------- | ------------------------------------------------------------------ | --------------------------------------------- |
| `channel.deleted`                   | Remove channel from the list                                       | `customChannelDeletedHandler`                 |
| `channel.hidden`                    | Remove channel from the list                                       | `customChannelHiddenHandler`                  |
| `channel.truncated`                 | Updates the channel                                                | `customChannelTruncatedHandler`               |
| `channel.updated`                   | Updates the channel                                                | `customChannelUpdatedHandler`                 |
| `channel.visible`                   | Adds the channel to the list                                       | `customChannelVisibleHandler`                 |
| `message.new`                       | Moves the channel to top of the list                               | `customNewMessageHandler`                     |
| `notification.added_to_channel`     | Adds the new channel to the top of the list and starts watching it | `customAddedToChannelNotificationHandler`     |
| `notification.message_new`          | Adds the new channel to the top of the list and starts watching it | `customNewMessageNotificationHandler`         |
| `notification.removed_from_channel` | Removes the channel from the list                                  | `customRemovedFromChannelNotificationHandler` |

It's important to note that filters don't apply to updates to the list from events.

Our platform documentation covers the topic of [channel events](https://getstream.io/chat/docs/javascript/event_object/?language=javascript#events) in depth.

## activeChannel$

Emits the currently active channel.

:::important
If you want to subscribe to channel events, you need to manually reenter Angular's change detection zone, our [Change detection guide](../concepts/change-detection.mdx) explains this in detail.
:::

## setAsActiveChannel

Sets the given `channel` as active.

## hasMoreChannels$

Emits `false` if there are no more pages of channels that can be loaded.

## loadMoreChannels

Loads the next page of channels. The page size can be set in the [query option](https://getstream.io/chat/docs/javascript/query_channels/?language=javascript#query-options) object.

## activeChannelMessages$

Emits the list of currently loaded messages of the active channel. Apart from pagination, the list is updated if a `message.new`, `reaction.new`, `reaction.deleted`, `reaction.updated` event is received.

## loadMoreMessages

Loads the next page of messages of the active channel. The page size can be set in the [query option](https://getstream.io/chat/docs/javascript/query_channels/?language=javascript#query-options) object.

## addReaction

Adds a reaction to a message.

## removeReaction

Removes a reaction from a message.

## sendMessage

Sends a message to the active channel. The message is immediately added to the message list, if an error occurs and the message can't be sent, the error is indicated in `state` of the message.

## updateMessage

Updates the message.

## deleteMessage

Deletes the message.

## resendMessage

Resends the given message.

## uploadAttachments

Uploads files to the channel. If you want to know more about [file uploads](https://getstream.io/chat/docs/javascript/file_uploads/?language=javascript) check out the platform documentation.

## deleteAttachment

Deletes an uploaded file by URL. If you want to know more about [file uploads](https://getstream.io/chat/docs/javascript/file_uploads/?language=javascript) check out the platform documentation

## autcompleteMembers

Returns the autocomplete options for current channel members. If the channel has less than 100 members, it returns the channel members, otherwise sends a [search request](https://getstream.io/chat/docs/javascript/query_members/?language=javascript#pagination-and-ordering) with the given search term.

## sendAction

[Runs a message action](https://getstream.io/chat/docs/rest/#messages-runmessageaction) in the current channel. Updates the message list based on the action result (if no message is returned, the message will be removed from the message list).
