---
id: upgrading-from-v4
title: Upgrading from V4
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## Prop or Context Changes

Following values in [`ImageGalleryContext`](https://getstream.io/chat/docs/sdk/reactnative/v5/contexts/image-gallery-context/#value) have been renamed

- `image` -> `selectedMessage`
- `setImage` -> `setSelectedMessage`
- `images` -> `messages`
- `setImages` -> `setMessages`

## Dependency Changes

- If you have installed `stream-chat` dependency explicitly on your application, then upgrade it to v7

  ```bash
  yarn add stream-chat@7.0.0
  ```

- Replace [`@react-native-community/cameraroll`](https://github.com/react-native-cameraroll/react-native-cameraroll) dependency with [`@react-native-camera-roll/camera-roll`](https://www.npmjs.com/package/@react-native-camera-roll/camera-roll)

  ```bash
  yarn remove @react-native-community/cameraroll
  yarn add @react-native-camera-roll/camera-roll
  ```

## Offline Support

Offline Support is a major opt-in feature introduced in v5 of SDK.

This feature allows users to:

- access to chat when internet is disabled
- faster loading of chat since chat gets loaded from offline storage first before loading data from network
- syncing of database using websocket events and sync api.

To enable offline support please check the [Offline Support](./offline_support.mdx) guide.
